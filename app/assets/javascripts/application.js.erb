// This is a manifest file that'll be compiled into application.js, which will include all the files
// listed below.
//
// Any JavaScript/Coffee file within this directory, lib/assets/javascripts, vendor/assets/javascripts,
// or any plugin's vendor/assets/javascripts directory can be referenced here using a relative path.
//
// It's not advisable to add code directly here, but if you do, it'll appear at the bottom of the
// compiled file.
//
// Read Sprockets README (https://github.com/rails/sprockets#sprockets-directives) for details
// about supported directives.
//
//= require jquery
//= require jquery_ujs
//= require twitter/bootstrap
//= require bootstrap
//= require turbolinks
//= require_tree .

$(document).ready(function(){
   changeback(0);
});

//////成功(修正したい)
 function changeback(index){
 	var speed = 1000; // フェードイン・フェードアウトの処理時間（1000で1秒）
 	var times = 5000; // 画像切り替えの間隔（1000で1秒）
 	var backurl = ["url(<%= asset_path('bg1.jpg') %>)", "url(<%= asset_path('bg2.jpg') %>)", "url(<%= asset_path('bg3.jpg') %>)"
 	,"url(<%= asset_path('bg4.jpg') %>)","url(<%= asset_path('bg5.jpg') %>)","url(<%= asset_path('bg6.jpg') %>)"];
// 	// 現在の背景画像番号格納する変数
 	var index = 1;
 	// 定期的に実行
 	setInterval(function(){
 	// 背景をフェードアウト
 	$(".backone").fadeOut(speed, function(){
 		// 背景画像番号変更
 		index = index === backurl.length - 1 ? 0 : index + 1;
 		// 背景画像を変更しフェードイン
 		$(".backone").css("background-image",backurl[index]).fadeIn(speed);
 		});
 	}, times);
 }



////
// function changeback(index){
//     var speed = 3000; //fadein,fadeoutの時間
//     var times = 5000; //画像切り替えの間隔
//     var backurl = ["url(<%= asset_path('bg1.jpg') %>)", "url(<%= asset_path('bg2.jpg') %>)", "url(<%= asset_path('bg3.jpg') %>)"
//     ,"url(<%= asset_path('bg4.jpg') %>)","url(<%= asset_path('bg5.jpg') %>)","url(<%= asset_path('bg6.jpg') %>)"];
//     if(index >= backurl.length){ index = 0; }
//     console.log("ok");

//     $(".backone").css("background-image",　backurl[index]);
//     index++;
//     setTimeout("changeback('" + index +"')",10000);
    
// }


